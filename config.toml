
# NTCIR19 Pretrained Model Retrieval Configuration
# 
# This file configures the dataset download and model fine-tuning pipelines.
# Sections [download] and [finetune] are required.
# The optional [globals] section provides shared settings inherited by both sections.

[globals]
# Shared settings: seed and log_file are applied to both download and finetune if not overridden
seed = 0
log_file = "experiment.log"


[download]
# Dataset download and preprocessing configuration

# REQUIRED: Path to Excel file defining dataset tasks
# Must have columns: dataset_name, subset, train_split, val_split, test_split, text_col, label_col
task_excel = "bert-tasks.xlsx"

# Directory where processed datasets (JSONL files) will be written
output_dir = "bert-data"

# Maximum samples to keep per split (train/val/test)
# Larger datasets are randomly sampled down to this limit
max_rows = 5000

# HuggingFace dataset revision to load
# Common values: "main", "refs/convert/parquet", etc.
revision = "refs/convert/parquet"

# Uncomment to override global seed for download-specific determinism
# seed = 0

# Uncomment to override global log file
# log_file = "download.log"


[finetune]
# Model fine-tuning configuration

# REQUIRED: Root directory containing dataset subdirectories
# Each subdirectory must contain train.jsonl, val.jsonl, test.jsonl
data_dir_root = "bert-data"

# REQUIRED: Excel file listing model IDs to fine-tune
# Typically one model ID per row in column specified by model_list_column
model_list_excel = "bert-models.xlsx"

# Column name in model_list_excel containing model IDs
# Default: "model_name"
model_list_column = "model_name"

# Root directory where experiment results are written
# Each run creates: {output_root}/{dataset_name}_{model_id}/
output_root = "experiment_results"

# Batch size for training and evaluation
# Affects memory usage and training speed (typical range: 8-32)
batch_size = 16

# Uncomment to override global seed for fine-tuning reproducibility
# seed = 0

# Uncomment to override global log file
# log_file = "finetune.log"
